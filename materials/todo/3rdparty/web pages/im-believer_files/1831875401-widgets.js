var w_pa=this;String.prototype.dc=function(a){return this.indexOf(a)==0};String.prototype.bc=function(a){var b=this.length-a.length;return b>=0&&this.lastIndexOf(a,b)==b};String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")};String.prototype.subs=function(){var a=this;for(var b=0;b<arguments.length;b++){a=a.replace(/\%s/,String(arguments[b]))}return a};if(!Function.prototype.apply){Function.prototype.apply=function(a,b){var c=[],d,e;if(!a)a=w_pa;var f=b||[];for(var g=0;g<f.length;g++){c[g]=
"args["+g+"]"}e="oScope.__applyTemp__.peek()("+c.join(",")+");";if(!a.__applyTemp__){a.__applyTemp__=[]}a.__applyTemp__.push(this);d=eval(e);a.__applyTemp__.pop();return d}}if(!Array.prototype.push){Array.prototype.push=function(a){for(var b=0;b<arguments.length;b++){this[this.length]=arguments[b]}return this.length}}if(!Array.prototype.pop){Array.prototype.pop=function(){if(!this.length){return}var a=this[this.length-1];this.length--;return a}}Array.prototype.peek=function(){return this[this.length-
1]};if(!Array.prototype.shift){Array.prototype.shift=function(){if(this.length==0){return}var a=this[0];for(var b=0;b<this.length-1;b++){this[b]=this[b+1]}this.length--;return a}}if(!Array.prototype.unshift){Array.prototype.unshift=function(a){var b=arguments.length;for(var c=this.length-1;c>=0;c--){this[c+b]=this[c]}for(var d=0;d<b;d++){this[d]=arguments[d]}return this.length}}if(!Array.prototype.Nb){Array.prototype.Nb=function(a,b){for(var c=0;c<this.length;c++){a.call(b,this[c],c,this)}}}function w_D(a,
b){var c=a.Jb||[];c=c.concat(Array.prototype.slice.call(arguments,2));if(typeof a.Ba!="undefined"){b=a.Ba}if(typeof a.Aa!="undefined"){a=a.Aa}var d=function(){var e=c.concat(Array.prototype.slice.call(arguments));return a.apply(b,e)};d.Jb=c;d.Ba=b;d.Aa=a;return d}Function.prototype.bind=function(a){return w_D.apply(null,[this,a].concat(Array.prototype.slice.call(arguments,1)))};Function.prototype.partial=function(){return w_D.apply(null,[this,null].concat(Array.prototype.slice.call(arguments)))};
Function.prototype.inherits=function(a){var b=function(){};b.prototype=a.prototype;this.ec=a.prototype;this.prototype=new b};Function.prototype.mixin=function(a){for(var b in a){this.prototype[b]=a[b]}if(typeof a["toString"]=="function"&&a["toString"]!=this.prototype["toString"]){this.prototype.toString=a.toString}};function w_f(){}w_f.raise=function(a){if(typeof Error!="undefined"){throw new Error(a||"Assertion Failed");}else{throw a;}};w_f.fail=function(a){if(a===undefined)a="Assertion failed";if(!(w_G===undefined))w_G(a+"\n");w_f.raise(a)};w_f.isTrue=function(a,b){if(!a){if(b===undefined)b="Assertion failed";w_f.fail(b)}};w_f.equals=function(a,b,c){if(a!=b){if(c===undefined){c="AS_Assert.equals failed: <"+a+"> != <"+b+">"}w_f.fail(c)}};w_f.typeOf=function(a,b,c){if(typeof a==b)return;if(a||a==""){try{if(b==
w_f.TYPE_MAP[typeof a]||a instanceof b){return}}catch(d){}}if(c===undefined){if(typeof b=="function"){var e=b.toString().match(/^\s*function\s+([^\s\{]+)/);if(e)b=e[1]}c="AS_Assert.typeOf failed: <"+a+"> not typeof "+b}w_f.fail(c)};w_f.TYPE_MAP={string:String,number:Number,"boolean":Boolean};w_f.numArgs=function(a,b){var c=w_f.numArgs.caller;if(c&&c.arguments.length!=a){if(b===undefined){b=c.name+" expected "+a+" arguments  but received "+c.arguments.length}w_f.fail(b)}};var w_U=false;function w_G(a){try{throw a;}catch(b){w_V(b)}}function w_V(a,b){var c="Javascript exception: "+(b?b:"")+" "+a;if(w_R()){c+=" "+a.name+": "+a.message+" ("+a.number+")"}var d="";if(typeof a=="string"){d=a+"\n"}else{for(var e in a){try{d+=e+": "+a[e]+"\n"}catch(f){}}}d+=w_S(w_V.caller);w_2(c+"\n"+d,1)}var w_oa=/function (\w+)/;function w_0(a){var b=w_oa.exec(String(a));if(b){return b[1]}return""}function w_S(a){try{if(!w_R()&&!(w_F("safari")||w_F("konqueror"))&&w_F("mozilla")){return Error().stack}if(!a)return"";
var b="- "+w_0(a)+"(";for(var c=0;c<a.arguments.length;c++){if(c>0)b+=", ";var d=String(a.arguments[c]);if(d.length>40){d=d.substr(0,40)+"..."}b+=d}b+=")\n";b+=w_S(a.caller);return b}catch(e){return"[Cannot get stack trace]: "+e+"\n"}}var w_3;var w_v=null,w_M=false;function w_1(){if((w_v==null||w_v.closed)&&!w_M){try{w_M=true;w_v=window.open("","debug","width=700,height=500,toolbar=no,resizable=yes,scrollbars=yes,left=16,top=16,screenx=16,screeny=16");w_v.blur();w_v.document.open();w_M=false;var a=
"<font color=#ff0000><b>To turn off this debugging window,hit 'D' inside the main caribou window, then close this window.</b></font><br>";w_T(a)}catch(b){}}}function w_2(a,b){if(!w_U){if(typeof w_k!="undefined"){w_k(w_Y(a))}return}try{var c=(new Date).getTime()-w_3,d="["+c+"] "+w_Y(a).replace(/\n/g,"<br>")+"<br>";if(b==1){d="<font color=#ff0000><b>Error: "+d+"</b></font>";w_v.focus()}}catch(e){}w_T(d)}function w_T(a){if(!w_U){return}try{w_1();w_v.document.write(a);w_v.scrollTo(0,1000000)}catch(b){}}
;function w_F(a){if(a in w_L){return w_L[a]}return w_L[a]=navigator.userAgent.toLowerCase().indexOf(a)!=-1}var w_L={};function w_R(){return w_F("msie")&&!window.opera}function w_ua(a){if(typeof Error!="undefined"){throw new Error(a||"Assertion Failed");}else{throw a;}}function w_9(a){if(a===undefined)a="Assertion failed";if(typeof w_G!="undefined")w_G(a+"\n");w_ua(a)}function w_E(a,b){if(!a){if(b===undefined)b="Assertion failed";w_9(b)}};function w_Z(a,b){a.style.display=b?"":"none"}function w_da(a,
b){a.style.display=b?"block":"none"}function w_ea(a,b){a.style.display=b?"inline":"none"}function w_j(a,b){if(a==null||a.className==null)return false;if(a.className==b){return true}var c=a.className.split(" ");for(var d=0;d<c.length;d++){if(c[d]==b){return true}}return false}function w_q(a,b){if(w_j(a,b))return;a.className+=" "+b}function w_t(a,b){if(a.className==null)return;if(a.className==b){a.className="";return}var c=a.className.split(" "),d=[],e=false;for(var f=0;f<c.length;f++){if(c[f]!=b){if(c[f]){d.push(c[f])}}else{e=
true}}if(e){a.className=d.join(" ")}}function w_O(a,b){var c=[];for(var d=a.firstChild;d;d=d.nextSibling){w_Q(d,b,c)}return c}function w_Q(a,b,c){if(b.select(a)){c.push(a)}for(var d=a.firstChild;d;d=d.nextSibling){w_Q(d,b,c)}}var w_ka=/&/g,w_sa=/</g,w_ra=/>/g;function w_Y(a){if(!a)return"";return a.replace(w_ka,"&amp;").replace(w_sa,"&lt;").replace(w_ra,"&gt;").replace(w_ta,"&quot;")}var w_ta=/\"/g;function w_ma(a){return document.getElementById(a)}function w_na(a){return document.all[a]}var w_la=
document.getElementById?w_ma:w_na;function w_k(a){try{if(window.parent!=window&&window.parent.log){window.parent.log(window.name+"::"+a);return}}catch(b){}var c=w_la("log");if(c){var d="<p class=logentry><span class=logdate>"+new Date+"</span><span class=logmsg>"+a+"</span></p>";c.innerHTML=d+c.innerHTML}else{window.status=a}};var w_K;function w_ha(){var a=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.5.0","MSXML2.XMLHTTP.4.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"];if(typeof XMLHttpRequest=="undefined"&&typeof ActiveXObject!="undefined"){for(var b=0;b<a.length;b++){var c=a[b];try{new ActiveXObject(c);w_K=c;break}catch(d){}}if(!w_K){throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed.");}}}w_ha();function w_ga(){if(w_K){return new ActiveXObject(w_K)}else{return new XMLHttpRequest}}
function w_ia(a,b,c,d){a.onreadystatechange=d;a.open("POST",b,true);a.setRequestHeader("Content-Type","application/x-www-form-urlencoded");a.setRequestHeader("Content-Length",c.length);w_ja(a,c)}function w_ja(a,b){try{a.send(b)}catch(c){w_k("XMLHttpSend failed "+c.toString()+"<br>"+c.stack);throw c;}};var w_qa=0,w_P=0;if("undefined"==typeof w_k){w_k=function(){}}function w_$(a){var b=-1;try{b=a.status}catch(c){}return b}function w_aa(a){var b=null;try{b=a.statusText}catch(c){}return b}function w_ba(a,b,c,d){if(a.readyState==4){try{var e=true;if(d){try{e=!(false===d(a))}catch(f){w_k("Message ("+b+") handling failed: "+f);throw f;}}var g=w_$(a);if(200===g){w_k("Message ("+b+") received after "+((new Date).getTime()-c)+" ms");try{var h=(new Date).getTime();if(e&&a.responseText.length){eval(a.responseText)}w_k("Message ("+
b+") processing took "+((new Date).getTime()-h)+" ms")}catch(f){w_k("Message ("+b+") processing failed: "+f);alert(f+"\n"+f.stack+"\n\n"+a.responseText);throw f;}}else if(204==g){w_k("Message ("+b+") received after "+((new Date).getTime()-c)+" ms")}else{w_k("Message ("+b+") failed with response "+g+" "+w_aa(a)+" after "+((new Date).getTime()-c)+" ms.")}}finally{--w_P}}}function w_ca(a,b,c){var d="";if(b){var e="";for(var f=0;f<b.length;){var g=b[f++],h=b[f++];d+=e+encodeURIComponent(g);e="&";if(null!==
h&&undefined!==h){d+="="+encodeURIComponent(h.toString())}}}var i=++w_qa,j=w_ga(),l=(new Date).getTime(),k=function(){w_ba(j,i,l,c)},m=a;for(var n=m.length+1;(n=m.lastIndexOf("&",n-1))>=0;){m=m.substring(0,n)+"&amp;"+m.substring(n+1)}w_k("Message ("+i+") sent: POST <tt>"+m+"</tt>.");++w_P;w_ia(j,a,d,k)};function w_i(a,b,c,d,e,f){this.instanceId=a;this.sectionId=b;this.markups=c;if(d){this.rootElement=d}if(e){this.data=e}if(f){this.k=f;if(!w_i.IsValidDisplayMode(f)){throw"bad display mode: "+f;}}else{this.k=w_i.DISPLAY_MODE_NONE}this.isNew=false}w_i.IsValidDisplayMode=function(a){return a==w_i.DISPLAY_MODE_SNIPPET||a==w_i.DISPLAY_MODE_FULL||a==w_i.DISPLAY_MODE_LAYOUT||a==w_i.DISPLAY_MODE_NONE};w_i.DISPLAY_MODE_FULL="displayModeFull";w_i.DISPLAY_MODE_SNIPPET="displayModeSnippet";w_i.DISPLAY_MODE_LAYOUT=
"displayModeLayout";w_i.DISPLAY_MODE_NONE="displayModeNone";function w_b(a){this.O=true;this.W=new w_u(this);this.b=a;this.o=null}w_b.DATA_NAMESPACE_PREFIX="data";w_b.ACTION_NAMESPACE_PREFIX="b";w_b.INTERPRET_ATTR_NAMESPACE_PREFIX="expr";w_b.prototype.Pa=function(){var a=this.b.rootElement;a.innerHTML="";if(this.B()==w_i.DISPLAY_MODE_LAYOUT){a.appendChild(this.L("layout"))}else{a.appendChild(this.L("main"))}return a};w_b.prototype.Ab=function(a){this.o=a};w_b.prototype.g=function(){return this.b};
w_b.prototype.i=function(a){return document.getElementById(this.b.instanceId+"_"+a)};w_b.prototype.$a=function(a){var b=this.i(a);if(!b){throw"did not find element for id "+a;}return b};w_b.prototype.A=function(){return this.b["data"]};w_b.prototype.va=function(a){return this.b.data=a};w_b.prototype.hb=function(){return this.b["isNew"]};w_b.prototype.wb=function(a){return this.b.isNew=a};w_b.prototype.L=function(a,b){var c=b;if(!c){c=this.A()}if(!c){c={}}var d=new w_h;d.w("widget",this.Wa());d.Ka(c);
var e=this.ja(a,d,w_h.DEFAULT_DICTIONARY_KEY);return this.ia(e,document)};w_b.prototype.Wa=function(){var a={};a["type"]=this.o.e();a["instanceId"]=this.b.instanceId;a["sectionId"]=this.b.sectionId;a["actionUrl"]=w_.N;var b=w_.Ca+"&widgetType="+this.o.e()+"&widgetId="+this.b.instanceId+"&action="+w_.EDIT_WIDGET_ACTION;a["quickEditUrl"]=b;return a};w_b.prototype.ja=function(a,b,c){var d=this.ab(a);w_f.isTrue(d!=null,"Markup chunk not found for "+a);var e=d.varName?d.varName:"",f=b.A(c);w_f.isTrue(f!=
null,"No data found for call: "+c);b.w(e,f);var g=this.D(d.rootNode,b);b.qa(e);return g};w_b.prototype.D=function(a,b){w_f.isTrue(a!=null,"Null node");var c=a;if(a.attributes){var d=[],e=[];for(var f=0;f<a.attributes.length;f++){var g=a.attributes.item(f),h=this.mb(g,b);if(g!=h){e[e.length]=g.nodeName;d[d.length]=h}}for(var f=0;f<e.length;f++){a.attributes.removeNamedItem(e[f])}for(var f=0;f<d.length;f++){a.attributes.setNamedItem(d[f])}}if(a.nodeType==1){if(a.prefix==w_b.ACTION_NAMESPACE_PREFIX){c=
this.eb(a,b)}else if(a.prefix==w_b.DATA_NAMESPACE_PREFIX){c=this.db(a,b)}}if(a.hasChildNodes()){var i=a.ownerDocument.createDocumentFragment();while(a.hasChildNodes()){var j=a.firstChild,l=this.D(j,b);i.appendChild(l);if(j!=l){a.removeChild(j)}}c.appendChild(i)}return c};w_b.prototype.mb=function(a,b){if(a.prefix==w_b.INTERPRET_ATTR_NAMESPACE_PREFIX){var c=a.ownerDocument.createAttribute(a.localName||a.baseName),d=this.W.ca(a.nodeValue,b);c.nodeValue=d;return c}return a};w_b.prototype.eb=function(a,
b){var c=a.localName||a.baseName,d=this.sa(c,a,b);return this.Ib(d)};w_b.prototype.Ib=function(a){var b=a;if(!a){return document.createDocumentFragment()}if(!a.nodeType){b=document.createTextNode(a)}if(b.nodeType==3){var c=document.createDocumentFragment();c.appendChild(b);b=c}return b};w_b.prototype.J=function(a,b){var c=this.F(a);return b.A(c[1])};w_b.prototype.db=function(a,b){w_f.isTrue(a!=null,"Null element");w_f.isTrue(b!=null,"Null data");if(a.prefix!=w_b.DATA_NAMESPACE_PREFIX){return a}var c=
this.J(a.tagName,b),d=""+(c==null?"":c),e=document.createElement("span");e.innerHTML=d;var f=this.C(e);return this.ia(f,a.ownerDocument,true)};w_b.prototype.F=function(a){var b=a.split(":",2);if(b.length==1){b.unshift("")}b[0]=b[0].toLowerCase();return b};w_b.prototype.sa=function(a,b,c){var d="_WidgetBinding_"+a;if(this.W[d]){return this.W[d](b,c)}if(this.o[d]){return this.o[d](b,c)}w_f.isTrue(false,"could not find binding "+a);return null};w_b.prototype.lb=function(a){if(a==null)return null;var b;
if(window.ActiveXObject){b=new ActiveXObject("Microsoft.XMLDOM");b.async="false";if(!b.loadXML(a)){throw new Error(b.parseError);}}else if(window.DOMParser){var c=new DOMParser;b=c.parseFromString(a,"text/xml");if(b.documentElement.nodeName=="parsererror"){throw new Error(b.documentElement.textContent);}}else{w_f.raise("Unable to find XML parser")}return b.documentElement};w_b.prototype.C=function(a){var b=a.ownerDocument.createDocumentFragment();while(a.hasChildNodes()){b.appendChild(a.firstChild)}return b};
w_b.prototype.ia=function(a,b,c){w_f.isTrue(a!=null);if(b.importNode){return b.importNode(a,true)}if(!c){var d=b.createElement("span"),e=a.innerHTML||a.xml;d.innerHTML=e;return this.C(d)}var f=function(g){var h;if(g.nodeType==1){if(g.nodeName=="SCRIPT")return document.createTextNode("");h=b.createElement(g.nodeName);if(g.style){h.setAttribute("style",g.style.cssText)}if(g.currentStyle.height){h.setAttribute("height",g.currentStyle.height)}if(g.currentStyle.width){h.setAttribute("width",g.currentStyle.width)}for(var i=
0;i<g.attributes.length;i++){var j=g.attributes[i];if(j.value&&j.value!="null"&&j.value!="false"&&j.value!="0"){h.setAttribute(j.name,j.value)}}}else if(g.nodeType==3){h=b.createTextNode(g.nodeValue)}else if(g.nodeType==11){h=b.createDocumentFragment()}else{w_f.raise("unexpected node type "+g.nodeType)}if(g.hasChildNodes()){for(var i=0;i<g.childNodes.length;i++){h.appendChild(f(g.childNodes[i]))}}return h};return f(a)};w_b.prototype.p=function(a,b){var c=this.o,d=function(e){if(c.ActionCallback)return c.ActionCallback(e);
else return true};w_.p(a,b,this.b.instanceId,this.o.e(),d)};w_b.prototype.B=function(){return this.b.k};w_b.prototype.Wb=function(){return this.O};w_b.prototype.Zb=function(a){if(a!=this.b.k){this.b.k=a;this.O=true;w_.DisplayWidget(this.widgetView)}};w_b.prototype.ab=function(a){if(!a)return null;var b=w_.V[a];if(!b){b=this.b.markups[a]}if(!b)return null;if(!b.parsedTemplate||!b.parsedTemplate.ownerDocument){this.kb(b)}if(!b.parsedTemplate){w_f.raise("Parsing failed for "+a)}b.rootNode=b.parsedTemplate.cloneNode(true);
return b};w_b.prototype.kb=function(a){if(!a)return null;var b="<?xml version='1.0'?><markuproot xmlns:"+w_b.DATA_NAMESPACE_PREFIX+"='urn:ns1'  xmlns:"+w_b.ACTION_NAMESPACE_PREFIX+"='urn:ns2' xmlns:"+w_b.INTERPRET_ATTR_NAMESPACE_PREFIX+"='urn:ns3'  xmlns='http://www.w3.org/1999/xhtml'>"+a["template"]+"</markuproot>\n",c=this.lb(b);a.parsedTemplate=this.C(c);return a};w_b.prototype.Vb=function(a,b,c){this.La(a,this.i(b),c)};w_b.prototype.La=function(a,b,c){var d=this.o;if(b){b[a]=function(e){return d[c](e)}}};
w_b.ConfigureWidget=function(a,b){if(!b){b="config"}var c=document.forms[b]["widgetId"].value,d=document.forms[b]["widgetType"].value,e=w_g.ProcessForm(document.forms[b],a);if(e.success){w_.SaveWidget(e.values,c,d)}};function w_(){}w_.Init=function(a,b,c){w_.u={};w_.Ca=a;w_.N=b;w_.cc=c;w_.Da=null;if(!w_.V){w_.V={}}};w_.TrapClicks=function(a){var b;try{b=a.document.getElementsByTagName("A")}catch(c){return}for(var d=0;d<b.length;d++){b[d].onclick=w_.v}var e=a.document.getElementsByTagName("FORM");
for(var d=0;d<e.length;d++){e[d].onsubmit=w_.v}for(var d=0;d<a.frames.length;d++){w_.TrapClicks(a.frames[d])}};w_._SetupPreview=function(){w_.TrapClicks(window)};w_.NEW_WIDGET_WINDOW_NAME="chooseWidget";w_.CHOOSE_WIDGET_ACTION="chooseWidget";w_.EDIT_WIDGET_ACTION="editWidget";w_.GetCallbackUrl=function(){return w_.N};w_.SetPageActionUrl=function(a,b){w_.R=a;w_.Rb=b};w_.GetPageActionUrl=function(){return w_.R};w_.SetWidgetRefreshUrl=function(a){w_.Ub=a};w_.GetWidgetRefreshUrl=function(){return w_.Ub};
w_._SetDataContext=function(a){w_.Da=a};w_._SetSystemMarkup=function(a){w_.V=a};w_._RegisterWidget=function(a,b,c){var d=new w_b(b);if(!c)c=window[a];var e=new c(d);d.Ab(e);w_.u[b.instanceId]=e;w_.DisplayWidget(e);return e};w_._RegisterNewWidget=function(a,b,c){var d=w_._RegisterWidget(a,b,c),e=d.c();e.wb(true);return d};w_.DisplayWidget=function(a,b){var c=a.c();if(c.B()==w_i.DISPLAY_MODE_NONE){return}if(b||a.m&&a.m()){c.Pa()}if(c.B()==w_i.DISPLAY_MODE_FULL){if(a.r){a.r()}}a.c().O=false};w_.GetWidget=
function(a){if(w_.u){return w_.u[a]}return null};w_._PopupPaneFromParams=function(a,b,c,d,e){var f="";if(d){f="&widgetId="+d}var g=w_.Ca+"&action="+a+"&sectionId="+b+"&widgetType="+c+f;if(window.name==e){window.location.replace(g);window.focus();return window}var h=window.open(g,e,"width=550,height=600,left=75,top=20,resizable=yes,scrollbars=yes");h.focus();return h};w_._PopupConfig=function(a){var b=a.getAttribute("id"),c=w_.GetWidget(b);if(c){var d=c.c().configWin;if(d!=null&&!d.closed){d.focus();
return false}}var e="config"+b,f=w_._PopupPaneFromParams(w_.EDIT_WIDGET_ACTION,a.parentNode.getAttribute("id"),a.getAttribute("widgetType"),b,e);if(c){c.c().configWin=f}return false};w_._PopupToolbox=function(a){w_._PopupPaneFromParams(w_.CHOOSE_WIDGET_ACTION,a.parentNode.getAttribute("id"),a.getAttribute("widgetType"),a.getAttribute("id"),w_.NEW_WIDGET_WINDOW_NAME);return false};w_.DeleteWidgetFromPage=function(a,b){w_.j(b,b.LayoutsMessages.DELETING,w_.STATUS_MESSAGE_PENDING_CLASS);w_.RunPageAction("delete",
{},a,b)};w_b.prototype.ub=function(a,b){w_.j(b,b.LayoutsMessages.SAVING,w_.STATUS_MESSAGE_PENDING_CLASS);this.p("configure",a)};w_.SaveNewWidget=function(a,b,c){var d=document.getElementById("sectionId").value;a["sectionid"]=d;w_.j(c,c.LayoutsMessages.SAVING,w_.STATUS_MESSAGE_PENDING_CLASS);w_.RunPageAction("addnew",a,"",b)};w_.SaveWidget=function(a,b,c){w_E(c!=null,"no type");var d=_WidgetManager._GetWidget(b);w_E(d!=null,"no widget for "+b);if(d.c().hb()){w_.SaveNewWidget(a,c,window)}else{d.a.ub(a,
window)}};w_._RunInitialAction=function(a){var b=w_._GetWidget(a);if(b){b.c().p("initial")}};w_.p=function(a,b,c,d,e){w_.RunAction(w_.N,a,b,c,d,e)};w_.RunPageAction=function(a,b,c,d,e){if(!w_.R){w_k("RunPageAction error: pageActionUrl_ is undefined.  widgetid: "+c+" action: "+a);return}b["pageToken"]=w_.Rb;w_.RunAction(w_.R,a,b,c,d,e)};w_.RunAction=function(a,b,c,d,e,f){var g=["action",b,"widgetId",d,"widgetType",e,"responseType","js"];for(var h in c){g[g.length]=h;g[g.length]=c[h]}w_ca(a,g,f)};w_.SetConfigWin=
function(a,b){if(!a)return;var c=w_.GetWidget(a);if(!c)return;c.c().configWin=b};w_.CloseIfNoPendingMessages=function(a,b){if(w_P==0){window.setTimeout(function(){a.close()},b)}else{window.setTimeout(function(){w_.CloseIfNoPendingMessages(a,b)},200)}};w_._KillPopupDelay=function(a,b){if(!a)return;w_.CloseIfNoPendingMessages(a,100);w_.UpdateEditorStatus(a,b)};w_.UpdateEditorStatus=function(a,b){if(!a){return}var c=a.document.getElementById("status-message-inner");if(c){c=c.innerHTML}if(c){if(a&&a.opener.parent&&
a.opener.parent.editor){a.opener.parent.editor._SetSaveMessage(c,b)}}};w_.d=function(a,b,c){var d=w_.u[a];if(c["errors"]!=null){var e=d?d.c().configWin:null;if(!e)e=window;w_.j(e,c["errors"],w_.STATUS_MESSAGE_BAD_CLASS);if(d&&d.HandleControllerFailure){d.HandleControllerFailure(b,c)}else{w_.HandleControllerFailure(c,e)}return}w_E(d!=null,"no widget for "+a);if(b=="initial"){d.c().va(c);w_.DisplayWidget(d,true);return}d.d(b,c)};w_.HandleControllerFailure=function(a,b){var c=a["error-details"];for(var d in c){w_g.SetError(d,
c[d],b.document)}};w_b.prototype.f=function(a){w_.j(this.configWin,a["status-message"],w_.STATUS_MESSAGE_GOOD_CLASS);w_.FinishPopupWork(this.b.instanceId,"_OnWidgetConfigured",function(b){window.opener._WidgetManager._OnWidgetConfigured(b,a)})};w_._OnWidgetConfigured=function(a,b){if(window.parent&&window.parent.editor&&b){w_.OnWidgetConfiguredWithData(a,b)}else{w_._RunInitialAction(a)}};w_.OnWidgetConfiguredWithData=function(a,b){var c=w_._GetWidget(a);c.c().va(b["data"]);w_.DisplayWidget(c,true);
c.c().configWin=null};w_.HandlePageActionResult=function(a,b,c){var d=c["status-message"];if(c["errors"]!=null){w_.j(window,c["errors"],w_.STATUS_MESSAGE_BAD_CLASS);w_.HandleControllerFailure(c,window);return}if(b=="addnew"){var e;if(w_.IsOpenerReachable(window)){if(window.opener&&window.opener.parent){e=window.opener.parent}if(e&&e.editor){e.editor._HandleAddNewWidget(c)}}w_.j(window,d,w_.STATUS_MESSAGE_GOOD_CLASS);if(e&&e._WidgetManager){e._WidgetManager._KillPopupDelay(window)}else{w_.CloseIfNoPendingMessages(window,
100)}return}var f=w_.u[a];w_E(f!=null);if(b=="delete"){w_.j(f.c().configWin,d,w_.STATUS_MESSAGE_GOOD_CLASS);w_.FinishPopupWork(a,"_OnWidgetDeleted")}};w_._OnWidgetDeleted=function(a){var b=w_.GetWidget(a);if(!b){return}if(b.c().B()==w_i.DISPLAY_MODE_LAYOUT){top.editor._HandleDeleteWidget(b.c().b.rootElement)}else{var c=b.c().b.rootElement;c.parentNode.removeChild(c)}delete w_.u[a]};w_.FinishPopupWork=function(a,b,c){if(w_.IsOpenerReachable(window)){var d=window.opener;if(!c){c=d._WidgetManager[b]}c(a);
if(d._WidgetManager){d._WidgetManager._KillPopupDelay(window,a)}else{w_.CloseIfNoPendingMessages(window,100)}}else{var e=w_.GetWidgetRefreshUrl()+"?widgetId="+a;e+="&func="+encodeURIComponent(b);window.location.replace(e)}};w_.IsOpenerReachable=function(a){var b=false;try{if(a.opener){var c="X"+a.opener.document.domain;if(c&&c!="X"){b=true}}}catch(d){}return b};w_.STATUS_MESSAGE_GOOD_CLASS="status-msg status-msg-yellow-on-white";w_.STATUS_MESSAGE_PENDING_CLASS=w_.STATUS_MESSAGE_GOOD_CLASS;w_.STATUS_MESSAGE_BAD_CLASS=
w_.STATUS_MESSAGE_GOOD_CLASS;w_.j=function(a,b,c){if(!a)a=self;var d=a.document.getElementById("status-message-inner");if(d){d.innerHTML=b}var e=a.document.getElementById("status-message");if(e){e.className=c}};w_.MaybePrependHttp=function(a){if(a&&a.length>0&&a.substring(0,4)!="http"){a="http://"+a}return a};w_.GetFirstElementInElementWithClass=function(a,b){if(w_j(a,b)){return a}if(a){var c=a.childNodes.length;for(var d=0;d<c;d++){var e=w_.GetFirstElementInElementWithClass(a.childNodes.item(d),
b);if(e){return e}}}return null};w_.CreateTransparentClickTrappingDiv=function(a){var b=a.createElement("div"),c=a.body.scrollHeight;b.style.position="absolute";b.style.top="0px";b.style.left="0px";b.style.width="100%";b.style.height=c+"px";b.style.zIndex="10";b.style.cursor="default";b.onclick=w_.v;b.onmousedown=w_.v;b.onmouseup=w_.v;b.style.background="white";b.style.filter="alpha(opacity=1)";b.style.opacity=".01";b.innerHTML="&nbsp;";return b};w_.v=function(a){var b=a;if(!b){b=window.event}if(b){b.cancelBubble=
true;if(b.stopPropagation){b.stopPropagation()}}return false};function w_u(a){this.l=a}w_u.prototype._WidgetBinding_include=function(a,b){var c=a.getAttribute("name"),d=a.getAttribute("data");return this.l.ja(c,b,d)};w_u.prototype._WidgetBinding_call=w_u.prototype._WidgetBinding_include;w_u.prototype._WidgetBinding_loop=function(a,b){var c=a.getAttribute("values"),d=this.l.F(c),e=this.l.J(d[1],b),f=a.getAttribute("var");if(!f){w_f.raise("Invalid var= attribute on b:loop")}var g=this.l.C(a),h=a.ownerDocument.createDocumentFragment();
if(!e)return h;for(var i=0;i<e.length;i++){var j=e[i],l=g.cloneNode(true);b.w(f,j);var k=this.l.D(l,b);b.qa(f);h.appendChild(k)}return h};w_u.prototype._WidgetBinding_if=function(a,b){var c=this.ca(a.getAttribute("cond"),b),d=a.ownerDocument.createDocumentFragment(),e=false;while(a.firstChild!=null){var f=a.firstChild;if("else"==this.l.F(f.nodeName)[1].toLowerCase()){e=true}else if(c&&!e||!c&&e){var g=this.l.D(f,b);d.appendChild(g)}if(f.parentNode==a){a.removeChild(f)}}return d};w_u.prototype.ca=
function(a,b){w_f.isTrue(a!=null,"null expression");var c=this.Db(a,b);try{var d=eval(c);return d}catch(e){w_k("expression=["+a+"] error="+e+" eval=["+c+"]")}return""};w_u.prototype.Db=function(a,b){var c=new RegExp("\\b(?:"+w_b.DATA_NAMESPACE_PREFIX+"|"+w_b.ACTION_NAMESPACE_PREFIX+"):[^ ]*\\b","gi"),d="",e=0,f=c.exec(a);while(f){var g=f[0];if(!this.gb(a,c.lastIndex)){var h,i=this.l.F(g);if(i[0]==w_b.ACTION_NAMESPACE_PREFIX){h=this.l.sa(i[1],null,b)}else if(i[0]==w_b.DATA_NAMESPACE_PREFIX){h=this.l.J(g,
b);if(!h)h="";h=h+""}else{w_f.raise("Unrecognized prefix '"+i[0]+"'")}h=h.replace(/"/g,"&quot;");h='"'+h+'"';d+=a.substring(e,f.index);d+=h;e=c.lastIndex}f=c.exec(a)}d+=a.substring(e,a.length);return d};w_u.prototype.gb=function(a,b){w_f.isTrue(b<=a.length,"Invalid index: i="+b+", l="+a.length);var c=0;for(var d=0;d<b;d++){if(a.charAt(d)=='"'&&(d==0||a.charAt(d-1)!="\\")){c++}}return c%2!=0};function w_g(){}w_g.ERROR_MSG_ACTIVE_CLASS="errorbox-bad errormsg";w_g.ERROR_MSG_INACTIVE_CLASS="errorbox-good";
w_g.ProcessForm=function(a,b){var c={};c.success=true;c.values={};c.errors={};for(var d in b){var e=w_g.GetFieldValue(a[d]),f=b[d];w_g.ClearError(d);if(f){var g=f(e);if(g){w_g.SetError(d,g);c.success=false;c.errors[d]=g}}c.values[d]=e}return c};w_g.GetFieldValue=function(a){if(!a)return undefined;if(a.type=="checkbox"){if(a.checked){return a.value}return undefined}if(a.type==null){for(var b=0;b<a.length;b++){if(a[b].checked)return a[b].value}return undefined}return a.value};w_g.fa=function(a,b){if(!b)b=
document;var c="errormessage_"+a;return b.getElementById(c)};w_g.ClearError=function(a){var b=w_g.fa(a);if(b){b.innerHTML="";b.className=w_g.ERROR_MSG_INACTIVE_CLASS}};w_g.SetError=function(a,b,c){var d=w_g.fa(a,c);if(d){d.innerHTML=b;d.className=w_g.ERROR_MSG_ACTIVE_CLASS}};w_g.GetRequiredStringFilter=function(){return function(a){a=a.replace(/^\s+/,"").replace(/\s+$/,"");if(a.length==0){return LayoutsMessages.FIELD_CANNOT_BE_BLANK}return undefined}};w_g.GetNumberFilter=function(a,b){return function(c){var d=
parseInt(c,10);if(isNaN(d)){return LayoutsMessages.MUST_SPECIFY_A_NUMBER}if(d<a){return LayoutsMessages.NUMBER_TOO_SMALL+" "+a}if(d>b){return LayoutsMessages.NUMBER_TOO_LARGE+" "+b}return undefined}};function w_h(){this.h=[];for(var a in w_.Da){this.h[this.h.length]=a}}w_h.DEFAULT_DICTIONARY_KEY="";w_h.MAX_DICTIONARY_DEPTH=50;w_h.SEPARATOR_CHAR=".";w_h.prototype.w=function(a,b){if(this.h.length>=w_h.MAX_DICTIONARY_DEPTH){w_f.raise("Cannot add another dictionary: "+a)}if(a.indexOf(w_h.SEPARATOR_CHAR)>
-1){w_f.raise("Cannot add dictionary name containing '.': "+a)}var c={};c.name=a;c.data=b;this.h[this.h.length]=c};w_h.prototype.qa=function(a){var b=this.h[this.h.length-1];if(b.name!=a){w_f.raise("Dictionary "+a+" is not the last one, and can't be deleted: "+b.name)}this.h.splice(this.h.length-1,1)};w_h.prototype.K=function(a){if(a==null)a=w_h.DEFAULT_DICTIONARY_KEY;for(var b=this.h.length-1;b>=0;--b){if(this.h[b].name==a){return this.h[b].data}}return null};w_h.prototype.ea=function(){return this.K(w_h.DEFAULT_DICTIONARY_KEY)};
w_h.prototype.Ka=function(a){this.w(w_h.DEFAULT_DICTIONARY_KEY,a)};w_h.prototype.A=function(a){var b=this.K(a);if(b)return b;var c=a.split(w_h.SEPARATOR_CHAR);if(c.length==1){b=this.ea();return b[a]}b=this.K(c[0]);var d=0;if(b){d=1}else{b=this.ea()}for(var e=d;e<c.length;e++){if(b==null)return null;b=b[c[e]]}return b};function w_fa(){}w_fa.prototype.d=function(a,b){throw new Error("Unimplemented");};var _WidgetManager=w_;_WidgetManager.prototype=w_.prototype;_WidgetManager._Init=_WidgetManager.Init;
_WidgetManager._SetPageActionUrl=_WidgetManager.SetPageActionUrl;_WidgetManager._GetPageActionUrl=_WidgetManager.GetPageActionUrl;_WidgetManager._SetWidgetRefreshUrl=_WidgetManager.SetWidgetRefreshUrl;_WidgetManager._GetWidgetRefreshUrl=_WidgetManager.GetWidgetRefreshUrl;_WidgetManager._GetCallbackUrl=_WidgetManager.GetCallbackUrl;_WidgetManager._DeleteWidgetFromPage=_WidgetManager.DeleteWidgetFromPage;_WidgetManager._DisplayWidget=_WidgetManager.DisplayWidget;_WidgetManager._GetWidget=_WidgetManager.GetWidget;
_WidgetManager._HandleControllerResult=_WidgetManager.d;_WidgetManager._HandlePageActionResult=_WidgetManager.HandlePageActionResult;_WidgetManager._IsOpenerReachable=_WidgetManager.IsOpenerReachable;_WidgetManager._SetConfigWin=_WidgetManager.SetConfigWin;var _WidgetInfo=w_i;_WidgetInfo.prototype=w_i.prototype;function w_m(a){this.Ea=false;this.I=a;this.q=window.document}w_m.DISABLED_BUTTON_CLASS="disabled-button";w_m.HIDDEN_MESSAGE_CLASS="status-msg-hidden";w_m.prototype.ac=function(a){this.Ea=a;if(a){w_t(this.q.getElementById("save-button-wrapper"),w_m.DISABLED_BUTTON_CLASS)}else{w_q(this.q.getElementById("save-button-wrapper"),w_m.DISABLED_BUTTON_CLASS)}};w_m.prototype.Yb=function(){return this.Ea};w_m.prototype.X=function(){this.q.getElementById(this.I+"-inner").innerHTML="&nbsp;";w_q(this.q.getElementById(this.I),
w_m.HIDDEN_MESSAGE_CLASS)};w_m.prototype.j=function(a){this.q.getElementById(this.I+"-inner").innerHTML=a;w_t(this.q.getElementById(this.I),w_m.HIDDEN_MESSAGE_CLASS)};w_m.prototype.$b=function(a){this.q=a};function w_z(a){this.a=a}w_z.WIDGET_TYPE_NAME="AdSense";w_z.prototype.e=function(){return w_z.WIDGET_TYPE_NAME};w_z.prototype.c=function(){return this.a};w_z.prototype.d=function(a,b){this.a.f(b)};var _AdSenseView=w_z;function w_d(a){this.a=a;this.b=a.g()}w_d.WIDGET_TYPE_NAME="BlogArchive";w_d.POST_LIST_CLASS="posts";w_d.INTERVAL_EXPANDED_VALUE="expanded";w_d.INTERVAL_COLLAPSED_VALUE="collapsed";w_d.LOADING_MSG="loading...";w_d.POST_COUNT_CLASS="post-count";w_d.POST_COUNT_LINK_CLASS="post-count-link";w_d.MENU_ROOT_ID="ArchiveMenu";w_d.TOGGLE_OPEN_CLASS="toggle-open";w_d.Kb="&#9660;&nbsp;";w_d.Lb="&#9658;&nbsp;";w_d.prototype.e=function(){return w_d.WIDGET_TYPE_NAME};w_d.prototype.c=function(){return this.a};w_d.prototype.m=
function(){return false};w_d.prototype.d=function(a,b){if(a=="configure"){this.a.f(b)}else if(a=="getTitles"){this.Hb(b)}else{this.widgetInfo.data=b;w_.DisplayWidget(this)}};w_d.prototype.r=function(){var a={};a.select=function(i){return i&&w_j(i,"toggle")};var b=this.a.i("ArchiveList");if(!b)return;var c=w_O(this.b.rootElement,a),d;if(c.length>0&&c[0].currentStyle){d=c[0].parentNode.currentStyle.color}for(var e=0;e<c.length;e++){var f=c[e];f.onclick=this.Eb.bind(this);if(d)f.style.color=d}var g=
this.a.i(w_d.MENU_ROOT_ID);if(g){for(var e=1;e<g.options.length;e++){var h=g.options[e].value;if(h==window.location.href||window.location.href.match(h)!=null){g.selectedIndex=e;break}}g.onchange=this.bb.bind(this)}};w_d.prototype.bb=function(){var a=this.a.i(w_d.MENU_ROOT_ID);if(!a)return;if(a.value=="")return;window.location.href=a.value};w_d.prototype.Eb=function(a){a=a||window.event;var b=a.currentTarget||a.srcElement;if(b&&!w_j(b,"toggle"))b=b.parentNode;var c=w_.GetFirstElementInElementWithClass(b,
"zippy"),d=b.parentNode;if(w_j(d,w_d.INTERVAL_EXPANDED_VALUE)){w_t(d,w_d.INTERVAL_EXPANDED_VALUE);w_q(d,w_d.INTERVAL_COLLAPSED_VALUE);c.innerHTML=w_d.Lb;w_t(c,w_d.TOGGLE_OPEN_CLASS);return false}else{w_t(d,w_d.INTERVAL_COLLAPSED_VALUE);w_q(d,w_d.INTERVAL_EXPANDED_VALUE);c.innerHTML=w_d.Kb;w_q(c,w_d.TOGGLE_OPEN_CLASS)}if(this.jb(d)){var e=this.ga(d);if(!e){e=document.createElement("UL");d.appendChild(e);w_q(e,w_d.POST_LIST_CLASS)}e.appendChild(document.createTextNode(w_d.LOADING_MSG));this.a.p("getTitles",
{path:this.Ya(d)})}return false};w_d.prototype.ga=function(a){return w_.GetFirstElementInElementWithClass(a,w_d.POST_LIST_CLASS)};w_d.prototype.Ya=function(a){var b=w_.GetFirstElementInElementWithClass(a,w_d.POST_COUNT_LINK_CLASS);return b.href};w_d.prototype.Za=function(a){var b=w_.GetFirstElementInElementWithClass(a,w_d.POST_COUNT_CLASS);return parseInt(b.innerHTML,10)};w_d.prototype.Hb=function(a){var b=a["path"],c=this.ga(this.Xa(b));c.innerHTML="";for(var d=0;d<a["posts"].length;d++){var e=a["posts"][d],
f=document.createElement("li");f.innerHTML="<a href="+e["url"]+">"+e["title"]+"</a>";c.appendChild(f)}};w_d.prototype.Xa=function(a){var b=this.b.rootElement.getElementsByTagName("A");for(var c in b){var d=b[c];if(d.href==a)return d.parentNode}};w_d.prototype.jb=function(a){var b=a.getElementsByTagName("UL");if(b.length>0&&!w_j(b[0],"posts")){return}var c=this.Za(a),d=a.getElementsByTagName("LI"),e=d.length;return e<c};var _BlogArchiveView=w_d;function w_e(a){this.a=a;this.t=a.g();if(this.t.data){this.Ga=this.t.data["showBacklinks"]}}w_e.BACKLINKS_ROOT="backlinks-container";w_e.BACKLINKS_CHUNK="backlinks";w_e.BACKLINK_ITEM_ROOT_CLASS="backlink-control";w_e.BACKLINK_EXPANDED_CLASS="expanded-backlink";w_e.BACKLINK_COLLAPSED_CLASS="collapsed-backlink";w_e.BACKLINK_ZIPPY_CLASS="backlink-toggle-zippy";w_e.WIDGET_TYPE_NAME="Blog";w_e.prototype.e=function(){return w_e.WIDGET_TYPE_NAME};w_e.prototype.c=function(){return this.a};w_e.prototype.d=
function(a,b){if(a=="initial"){this.t.data=b;w_.DisplayWidget(this,true)}else if(a=="nextposts"){this.Ra(b)}else if(a=="configure"){this.a.f(b)}else if(a=="backlinks"){this.Gb(b)}};w_e.prototype.Ra=function(a){var b=a["renderedData"],c=this.t.rootElement;if(!b||!c){return}c.innerHTML=b;window.scroll(0,0);this.r()};w_e.prototype.Gb=function(a){this.Ga=false;var b=this.a.L(w_e.BACKLINKS_CHUNK,a),c=this.a.i(w_e.BACKLINKS_ROOT);if(c){c.innerHTML="";c.appendChild(b)}var d=w_O(this.t.rootElement,w_e.za);
for(var e=0;e<d.length;e++){var f=d[e];f.onclick=this.Fb.bind(this)}var g=this.a.i("backlinks-create-link");if(g!=null){g.onclick=this.Na.bind(this,g.href)}};w_e.za={};w_e.za.select=function(a){return a&&w_j(a,w_e.BACKLINK_ZIPPY_CLASS)};w_e.prototype.Fb=function(a){a=a||window.event;this.Sa(a.srcElement||a.target)};w_e.prototype.Sa=function(a){var b=a.parentNode;while(b&&!w_j(b,w_e.BACKLINK_ITEM_ROOT_CLASS)){b=b.parentNode}if(!b)return;if(w_j(b,w_e.BACKLINK_EXPANDED_CLASS)){w_t(b,w_e.BACKLINK_EXPANDED_CLASS);
w_q(b,w_e.BACKLINK_COLLAPSED_CLASS)}else{w_q(b,w_e.BACKLINK_EXPANDED_CLASS);w_t(b,w_e.BACKLINK_COLLAPSED_CLASS)}};w_e.prototype.r=function(){var a=this.a.i("blog-pager-newer-link");if(a&&this.ka(a)){a.onclick=this.la.bind(this)}var b=this.a.i("blog-pager-older-link");if(b&&this.ka(b)){b.onclick=this.la.bind(this)}if(this.Ga){this.a.p("backlinks",{postID:this.t.data["postId"]})}};w_e.prototype.ka=function(a){var b=a.href;return b.indexOf("/search?")>-1};w_e.prototype.la=function(a){a=a||window.event;
var b=a.target||a.srcElement;this.a.p("nextposts",{path:b.href});return false};w_e.prototype.Na=function(a){var b="";if(document.selection){b=document.selection.createRange().text}else if(window.getSelection){b=window.getSelection()}else if(document.getSelection){b=document.getSelection()}window.open(a+"?t="+encodeURIComponent(b)+"&u="+encodeURIComponent(window.location.href)+"&n="+encodeURIComponent(document.title),"bloggerForm","scrollbars=no,width=475,height=300,top=175,left=75,status=yes,resizable=yes");
return false};var _BlogView=w_e;function w_o(a){this.a=a;this.b=a.g()}w_o.WIDGET_TYPE_NAME="Header";w_o.prototype.e=function(){return w_o.WIDGET_TYPE_NAME};w_o.prototype.m=function(){return false};w_o.prototype.c=function(){return this.a};w_o.prototype.d=function(a,b){this.a.f(b)};w_o.FilterMap={title:w_g.GetRequiredStringFilter(),description:null,securityToken:null};w_o.ConfigureWidget=function(){w_b.ConfigureWidget(w_o.FilterMap)};var _HeaderView=w_o;_HeaderView.prototype=w_o.prototype;_HeaderView._ConfigureWidget=_HeaderView.ConfigureWidget;function w_n(a,b){this.a=a;this.b=a.g();this.Tb=b}w_n.prototype.c=function(){return this.a};w_n.prototype.e=function(){return this.Tb};w_n.prototype.d=function(a,b){if(a=="configure"){this.a.f(b)}};w_n.prototype.M=function(){return this.b.data["content"]&&this.b.data["content"].length>0};w_n.ConfigureWidget=function(a){setFormAndSubmit();var b=document.forms.stuffform["widgetId"].value,c=document.forms.stuffform["securityToken"].value,d=document.getElementById("hiddenTextarea"),e=document.getElementById("title"),
f={content:d.value,title:e.value,securityToken:c};w_.SaveWidget(f,b,a)};function w_J(a){w_n.call(this,a,"Text")}w_J.inherits(w_n);w_J.ConfigureWidget=function(){w_n.ConfigureWidget("Text")};function w_I(a){w_n.call(this,a,"HTML")}w_I.inherits(w_n);w_I.ConfigureWidget=function(){w_n.ConfigureWidget("HTML")};var _TextView=w_J;_TextView.prototype=w_J.prototype;_TextView._ConfigureWidget=_TextView.ConfigureWidget;var _HTMLView=w_I;_HTMLView.prototype=w_I.prototype;_HTMLView._ConfigureWidget=_HTMLView.ConfigureWidget;function w_s(a){this.a=a;this.b=a.g()}w_s.WIDGET_TYPE_NAME="Image";w_s.prototype.c=function(){return this.a};w_s.prototype.e=function(){return w_s.WIDGET_TYPE_NAME};w_s.prototype.m=function(){return false};w_s.prototype.r=function(){if(this.b.data["resize"]!="true"){return}var a=this.a.i(this.b.instanceId+"_img"),b=this.b.rootElement;if(!a||!b){return}var c;if(document.defaultView){c=parseInt(document.defaultView.getComputedStyle(b,null).width,10)}else if(b.currentStyle){a.style.display="none";c=
b.offsetWidth;a.style.display=""}else{return}if(a.width>c){a.height=Math.round(c/a.width*a.height);a.width=c}a.style.visibility="visible"};w_s.prototype.d=function(a,b){if(a=="configure"){this.a.f(b)}};w_s.prototype.M=function(){return this.b["data"]["sourceUrl"]&&this.b["data"]["sourceUrl"].length>0};var _ImageView=w_s;function w_c(){}w_c.Mb={title:null,showStyle:null,showPosts:null,chronological:null,frequency:null,yearPattern:null,monthPattern:null,weekPattern:null,showWeekEnd:null,dayPattern:null,securityToken:null};w_c.ACTIVE_PREVIEW_CLASS="active-preview";w_c.PREVIEW_CLASS="preview";w_c._SetConfigurationOptions=function(){w_b.ConfigureWidget(w_c.Mb)};w_c.UpdateFrequency=function(){var a=w_g.GetFieldValue(document.forms.config.showStyle),b={year:a=="HIERARCHY",week:0,month:0,day:0},c=w_g.GetFieldValue(document.forms.config.frequency);
if(c=="WEEKLY"){b.week=1}else if(c=="MONTHLY"){b.month=1}else if(c=="DAILY"){b.month=a=="HIERARCHY";b.day=1}var d=document.forms.config.showPosts;if(a=="HIERARCHY"){d.disabled=false}else{d.disabled=true}for(var e in b){var f=e+"pattern-wrap";w_da(document.getElementById(f),b[e])}w_c.SelectPreview()};w_c._Init=function(a){w_c.Ja=a;w_c.s=document.getElementById("archive-previews");w_c.Ia=w_H(w_c.s,w_c.PREVIEW_CLASS);w_c.UpdateFrequency();w_c.Reformat("yearly",document.forms.config.yearPattern);w_c.Reformat("monthly",
document.forms.config.monthPattern);w_c.Reformat("weekly",document.forms.config.weekPattern);w_c.Reformat("daily",document.forms.config.dayPattern);w_c.UpdateWeekEnd();w_c.UpdatePreviewPostTitles();if(document.forms.config.chronological.checked){w_c.ToggleDirection()}};w_c.SelectPreview=function(){var a=w_g.GetFieldValue(document.forms.config.showStyle),b=w_g.GetFieldValue(document.forms.config.frequency);for(var c=0;c<w_c.Ia.length;c++){var d=w_c.Ia[c];if(w_j(d,a)&&w_j(d,b)){w_q(d,w_c.ACTIVE_PREVIEW_CLASS);
if(w_j(d,"MENU")){w_c.Cb(d)}}else{w_t(d,w_c.ACTIVE_PREVIEW_CLASS);if(w_j(d,"MENU")){w_c.fb(d)}}}};w_c.fb=function(a){var b=a.getElementsByTagName("select");for(var c=0;c<b.length;c++){b[c].style.display="none"}};w_c.Cb=function(a){var b=a.getElementsByTagName("select");for(var c=0;c<b.length;c++){b[c].style.display="block"}};w_c.Reformat=function(a,b){var c=w_c.Ja[a];for(var d in c){var e=c[d][b.selectedIndex];if(e)w_c.ReplaceSample(d,e)}if(a=="weekly"){w_c.UpdateWeekEnd()}};w_c.ReplaceSample=function(a,
b){var c=w_H(w_c.s,a);for(var d=0;d<c.length;d++){var e=c[d];e.innerHTML=b}};w_c.UpdateWeekEnd=function(){w__(w_c.s,document.forms.config.showWeekEnd.checked,"weekend");var a=w_c.Ja["weekly"],b=document.getElementById("weekly-menu-select"),c=0,d=document.forms.config.weekPattern.selectedIndex;for(var e=0;e<b.options.length;e++){var f=b.options[e],g=a["weekly"+c][d];c++;var h=a["weekly"+c][d],i=g;if(document.forms.config.showWeekEnd.checked){i=i+" - "+h}f.text=i}};w_c.UpdatePreviewPostTitles=function(){w__(w_c.s,
document.forms.config.showPosts.checked,"preview-posts")};w_c.ToggleDirection=function(){var a=w_c.s.getElementsByTagName("UL");for(var b=0;b<a.length;b++){var c=a[b],d=c.ownerDocument.createDocumentFragment();while(c.hasChildNodes())d.appendChild(c.lastChild);c.appendChild(d)}var e=w_c.s.getElementsByTagName("SELECT");for(var b=0;b<e.length;b++){var f=e[b],g=f.options.length;for(var h=0;h<=g/2;h++){var i=f.options[h].innerHTML,j=g-h-1;f.options[h].innerHTML=f.options[j].innerHTML;f.options[j].innerHTML=
i}f.options[0].selected=0}};function w__(a,b,c){var d=w_H(a,c);for(var e=0;e<d.length;e++){var f=d[e];w_ea(f,b)}}function w_H(a,b){var c={};c.select=function(d){return d&&w_j(d,b)};return w_O(a,c)}var _ArchiveConfig=w_c;_ArchiveConfig._UpdateFrequency=_ArchiveConfig.UpdateFrequency;_ArchiveConfig._Reformat=_ArchiveConfig.Reformat;_ArchiveConfig._UpdateWeekEnd=_ArchiveConfig.UpdateWeekEnd;_ArchiveConfig._UpdatePreviewPostTitles=_ArchiveConfig.UpdatePreviewPostTitles;_ArchiveConfig._ToggleDirection=
_ArchiveConfig.ToggleDirection;function w_A(a){this.a=a;this.b=a.g()}w_A.WIDGET_TYPE_NAME="Label";w_A.prototype.e=function(){return w_A.WIDGET_TYPE_NAME};w_A.prototype.c=function(){return this.a};w_A.prototype.d=function(a,b){this.a.f(b)};function w_l(){}w_l.Va={sorting:null,title:null,securityToken:null};w_l._Configure=function(){w_b.ConfigureWidget(w_l.Va)};w_l.HIDDEN_CLASS="hidden";w_l.PREVIEW_ROOT_ID="preview-wrap";w_l.PREVIEW_CLASS="preview";w_l._ShowPreview=function(a){var b=document.getElementById(w_l.PREVIEW_ROOT_ID),c=
w_H(b,w_l.PREVIEW_CLASS);for(var d=0;d<c.length;d++){w_q(c[d],w_l.HIDDEN_CLASS)}w_t(document.getElementById(a),w_l.HIDDEN_CLASS)};var _LabelView=w_A,_LabelConfig=w_l;function w_x(a){this.a=a;this.b=a.g()}w_x.WIDGET_TYPE_NAME="TextList";w_x.prototype.e=function(){return w_x.WIDGET_TYPE_NAME};w_x.prototype.c=function(){return this.a};w_x.prototype.m=function(){return false};w_x.prototype.d=function(a,b){if(a=="configure"){this.a.f(b)}};w_x.prototype.M=function(){return this.b.data["items"].length>0};var _TextListView=w_x;function w_w(a){this.a=a;this.b=a.g()}w_w.WIDGET_TYPE_NAME="LinkList";w_w.prototype.e=function(){return w_w.WIDGET_TYPE_NAME};w_w.prototype.m=function(){return false};w_w.prototype.c=function(){return this.a};w_w.prototype.d=function(a,b){if(a=="configure"){this.a.f(b)}};var _LinkListView=w_w;_LinkListView.prototype=w_w.prototype;function w_B(a){this.a=a;this.b=a.g()}w_B.prototype.e=function(){return"BloggerButton"};w_B.prototype.c=function(){return this.a};w_B.prototype.d=function(a,b){this.a.f(b)};w_B.prototype.M=function(){return true};var _BloggerButtonView=w_B;function w_p(a){this.a=a;this.b=a.g()}w_p.WIDGET_TYPE_NAME="Navbar";w_p.prototype.e=function(){return w_p.WIDGET_TYPE_NAME};w_p.prototype.c=function(){return this.a};w_p.prototype.m=function(){return false};w_p.prototype.d=function(a,b){this.a.f(b)};w_p.FilterMap={navbartype:null,securityToken:null};w_p.ConfigureWidget=function(){w_b.ConfigureWidget(w_p.FilterMap)};var _NavbarView=w_p;_NavbarView.prototype=w_p.prototype;_NavbarView._ConfigureWidget=_NavbarView.ConfigureWidget;function w_y(a){this.a=a;this.b=a.g()}w_y.WIDGET_TYPE_NAME="Profile";w_y.prototype.m=function(){return false};w_y.prototype.e=function(){return w_y.WIDGET_TYPE_NAME};w_y.prototype.c=function(){return this.a};w_y.prototype.d=function(a,b){if(a=="configure"){this.a.f(b)}};var _ProfileView=w_y;function w_7(a){var b=a.toLowerCase();for(var c=0;c<document.styleSheets.length;c++){var d=document.styleSheets[c],e=d.cssRules?d.cssRules:d.rules;for(var f=0;f<e.length;f++){var g=e[f];if(g.selectorText.toLowerCase().indexOf(b)!=-1){return g}}return null}};var w_W="/feedReaderJson/";function w_8(a){w_W=a}function w_X(a){return"FW_ScriptElement"+a}function w_C(){this.requests={};this.currentId=0;this.completed=[]}w_C.prototype.ob=function(a,b){var c=++this.currentId,d={};d.handler=a;d.errorHandler=b;this.requests[c]=d;return c};w_C.prototype.da=function(a){var b=this.requests[a];this.requests[a]=null;this.completed.push(a);return b};w_C.prototype.Oa=function(){while(this.completed.length){var a=this.completed.pop(),b=document.getElementById(w_X(a));
if(b){b.parentNode.removeChild(b)}}};w_C.prototype.sb=function(a,b,c,d,e,f){this.Oa();var g=this.ob(c,d),h="_FW_getHandler("+g+")",i="_FW_getErrorHandler("+g+")",j=w_W+"?feedUrl="+encodeURIComponent(a)+"&n="+b+"&callback="+encodeURIComponent(h)+"&errorCallback="+encodeURIComponent(i)+"&locale="+encodeURIComponent(e)+"&timeZone="+encodeURIComponent(f),l=w_X(g),k=document.createElement("script");k.type="text/javascript";k.charset="utf-8";k.src=j;k.id=l;document.getElementsByTagName("head")[0].appendChild(k)};
var w_N=new w_C;function w_5(a){return w_N.da(a).handler}function w_4(a){return w_N.da(a).errorHandler}function w_6(a,b,c,d,e,f){w_N.sb(a,b,c,d,e,f)}var _FW_setFeedReaderJsonBaseUrl=w_8,_FW_getHandler=w_5,_FW_getErrorHandler=w_4;function w_a(a,b,c,d){this.k=a;this.P=b;this.Qb=c;this.H=d;this.U=new w_m("status-message");this.G="";this.Fa=false}w_a.ib=5;w_a.Ta="moduleTitle";w_a.Xb="feedUrl";w_a.Z="step1";w_a.$="step1Buttons";w_a.aa="step2";w_a.ba="preview";w_a.tb="item-title";w_a.ua="item-date";w_a.ta="item-author";w_a.z="feedUrl";w_a.prototype.Qa=function(a){this.U.X();w_g.ClearError(w_a.z);if((!a.items||a.items.length===0)&&a.title===""){this.xa()}else{var b=document.getElementById(w_a.Ta);if(b.value===""||this.Fa){b.value=
a.title;this.Q=a.title}this.Y(a);this.cb();this.nb(b)}};w_a.prototype.nb=function(a){a.style.display="none";a.style.display=""};w_a.prototype.xa=function(){this.U.X();w_g.SetError(w_a.z,this.H._invalidFeedUrl);this.ha()};w_a.prototype.Bb=function(){};w_a.prototype.Y=function(a){this.pb(this.P);for(var b=0;b<a.items.length;b++){var c=a.items[b];this.Ma(c,this.P)}this.pa();this.ma();this.na();this.oa()};w_a.prototype.ha=function(){this.n(w_a.Z,true);this.n(w_a.$,true);this.n(w_a.aa,false);this.n(w_a.ba,
false)};w_a.prototype.cb=function(){this.n(w_a.Z,false);this.n(w_a.$,false);this.n(w_a.aa,true);this.n(w_a.ba,true)};w_a.prototype.n=function(a,b){w_Z(document.getElementById(a),b)};w_a.prototype.Ob=function(a){return a?"":"none"};w_a.prototype.ya=function(a,b){if(this.k){return}var c=w_7(a);c.style.display=this.Ob(b)};w_a.prototype.vb=function(a){this.Q=a;this.oa()};w_a.prototype.oa=function(){if(this.k){return}this.Qb.innerHTML=this.Q};w_a.prototype.yb=function(a){this.S=a;this.ma()};w_a.prototype.ma=
function(){this.ya(w_a.ta,this.S)};w_a.prototype.zb=function(a){this.T=a;this.na()};w_a.prototype.na=function(){this.ya(w_a.ua,this.T)};w_a.prototype.xb=function(a){this.Ha=a;this.pa()};w_a.prototype.pa=function(){var a=this.P.getElementsByTagName("li");for(var b=0;b<a.length;b++){w_Z(a[b],b<this.Ha)}};w_a.prototype.Ma=function(a,b){var c=document.createElement("li");b.appendChild(c);var d=document.createElement("span");d.className=w_a.tb;c.appendChild(d);var e=document.createElement("a");d.appendChild(e);
e.href=a.alternate.href;if(this.k){e.target="_self"}else{e.target="_blank"}e.innerHTML=a.title;if(!this.k||this.T){var f=document.createElement("span");f.className=w_a.ua;f.innerHTML="&nbsp;-&nbsp;"+a.str_published;c.appendChild(f)}if(!this.k||this.S){var g=document.createElement("span");g.className=w_a.ta;g.innerHTML="&nbsp;-&nbsp;"+a.author;c.appendChild(g)}};w_a.prototype.pb=function(a){while(a.firstChild){a.removeChild(a.firstChild)}};w_a.prototype.rb=function(a,b,c,d,e,f,g){if(!a||a===""){w_g.SetError(w_a.z,
this.H._missingFeedUrl);return}if(a.length>2083){w_g.SetError(w_a.z,this.H._feedUrlTooLong);return}this.U.j(this.H._retrievingFeed);this.wa(a,b,c,d,e,f,g);this.ra(w_a.prototype.Qa,w_a.prototype.xa)};w_a.prototype.qb=function(a,b,c,d,e,f,g){this.wa(a,b,c,d,null,e,f);var h=w_D(w_a.prototype.ra,this,w_a.prototype.Y,w_a.prototype.Bb);window.setInterval(h,g*1000)};w_a.prototype.ra=function(a,b){var c=w_D(a,this),d=w_D(b,this);w_6(this.G,w_a.ib,c,d,this.Pb,this.Sb)};w_a.prototype.wa=function(a,b,c,d,e,
f,g){this.Fa=this.G!=""&&this.G!=a;this.G=a;this.Ha=b;this.T=c;this.S=d;this.Q=e;this.Pb=f;this.Sb=g};w_a.prototype._GoToStep1=w_a.prototype.ha;w_a.prototype._RetrieveFeedAndGoToStep2=w_a.prototype.rb;w_a.prototype._SetModuleTitleAndRefresh=w_a.prototype.vb;w_a.prototype._SetShowItemAuthorAndRefresh=w_a.prototype.yb;w_a.prototype._SetShowItemDateAndRefresh=w_a.prototype.zb;w_a.prototype._SetNumItemsShowAndRefresh=w_a.prototype.xb;var _FW_FeedController=w_a;function w_r(a){this.a=a}w_r.prototype.c=function(){return this.a};w_r.prototype.e=function(){return"Feed"};w_r.prototype.d=function(a,b){this.a.f(b)};w_r.prototype.r=function(){var a=this.a.$a("feedItemListDisplay"),b=new w_a(true,a,null,null),c=this.a.g().data;b.qb(c.feedUrl,c.numItemsShow,c.showItemDate,c.showItemAuthor,c.locale,c.timeZone,c.feedWidgetRefreshIntervalSec)};w_r.Ua={moduleTitle:null,feedUrl:w_g.GetRequiredStringFilter(),numItemsShow:w_g.GetNumberFilter(1,5),showItemDate:null,showItemAuthor:null,
securityToken:null};w_r.setConfigurationOptions=function(){w_b.ConfigureWidget(w_r.Ua)};var _FeedView=w_r;_FeedView._setConfigurationOptions=w_r.setConfigurationOptions;
